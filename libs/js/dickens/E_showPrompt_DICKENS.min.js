(function(r,a){function q(){g.reset();g.setColor("#305080");g.fillArc(.285*-Math.PI,.285*Math.PI,96);g.fillArc(Math.PI*(1-.285),1.285*Math.PI,96);g.fillRect(41,62,195,62);g.fillRect(41,175,195,175);g.setColor(-1);var n=g.getWidth();g.getHeight();var e=a.title;e&&(e=l.translate(e),g.setFontGrotesk16().setFontAlign(0,-1,0).setBgColor("#305080").drawString(e,119,42).setBgColor(0));(e=a.icon)&&g.setBgColor("#305080").drawImage(e.img,e.x,e.y);g.setFontGrotesk16().setFontAlign(0,
0,0);e=r.split("\n");var u=105-16*e.length/2;e.forEach((c,m)=>g.drawString(l.translate(c),n/2,u+16*m));var t=0,p,f,h;if(a.vstack){var b=120;var d=172-18*k.length;k.forEach((c,m)=>{c=l.translate(c);f=50;h=[b-f-4,d-9,b+f+4,d-9,b+f+4,d+9,b-f-4,d+9];g.setColor(m==a.selected?"#304060":0).fillPoly(h).setColor(-1).drawPoly(h,1).setFontGrotesk14().drawString(c,b,d+1);d+=18})}else k.forEach(c=>t+=16+g.stringWidth(l.translate(c))),b=(n-t)/2,d=150,k.forEach((c,m)=>{c=l.translate(c);p=g.stringWidth(c);b+=(16+
p)/2;f=2+p/2;h=[b-f-4,d-10,b+f+4,d-10,b+f+4,d+10,b-f-4,d+10];g.setColor(m==a.selected?"#304060":0).fillPoly(h).setColor(-1).drawPoly(h,1).drawString(c,b,d+1);b+=(16+p)/2});g.setColor(-1).flip()}global.Dickens||(Dickens={});a||(a={});a.buttons||(a.buttons={Yes:!0,No:!1});var l=require("locale"),k=Object.keys(a.buttons);a.selected||(a.selected=0);void 0===a.vstack&&(a.vstack=1);Bangle.setUI();g.clear(1);Dickens.buttonIcons=["select",null,"down","up"];if(!r)return Promise.resolve();q();Dickens.loadSurround&&
Dickens.loadSurround();return new Promise(n=>{Bangle.btnWatches=[setWatch(function(){0<a.selected&&(a.selected--,q())},BTN4,{repeat:1}),setWatch(function(){a.selected<k.length-1&&(a.selected++,q())},BTN3,{repeat:1}),setWatch(function(){E.showPrompt();Bangle.setUI();n(a.buttons[k[a.selected]])},BTN1,{repeat:1})]})})